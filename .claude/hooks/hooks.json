{
  "hooks": {
    "PostToolUse": [
      {
        "name": "log-file-modifications",
        "matcher": "Edit|Write|MultiEdit",
        "hooks": [
          {
            "type": "command",
            "command": "echo \"$(date '+%Y-%m-%d %H:%M:%S') | Modified: $CLAUDE_TOOL_INPUT_FILE_PATH\" >> .claude/memory/modifications.log"
          }
        ]
      },
      {
        "name": "update-improvements-log",
        "matcher": "Edit|Write",
        "condition": "contains(CLAUDE_TOOL_INPUT_FILE_PATH, '.ts') || contains(CLAUDE_TOOL_INPUT_FILE_PATH, '.tsx')",
        "hooks": [
          {
            "type": "command",
            "command": "echo \"| $(date '+%Y-%m-%d') | Modified $(basename $CLAUDE_TOOL_INPUT_FILE_PATH) | 🔧 In Progress | Session |\" >> IMPROVEMENTS_LOG.md"
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "name": "warn-critical-files",
        "matcher": "Edit|Write|Delete",
        "condition": "contains(CLAUDE_TOOL_INPUT_FILE_PATH, 'database.ts') || contains(CLAUDE_TOOL_INPUT_FILE_PATH, 'netlify.toml')",
        "hooks": [
          {
            "type": "warning",
            "message": "⚠️ CRITICAL FILE: This file is essential for app functionality. Review changes carefully!"
          }
        ]
      },
      {
        "name": "check-improvement-markers",
        "matcher": "Edit",
        "condition": "contains(CLAUDE_TOOL_INPUT_FILE_PATH, 'IMPROVEMENT')",
        "hooks": [
          {
            "type": "warning",
            "message": "📌 This file contains recent improvements. Ensure changes don't regress functionality."
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "name": "load-project-context",
        "hooks": [
          {
            "type": "message",
            "message": "🚀 ScienceHabits project loaded. Check CLAUDE.md for context and IMPROVEMENTS_LOG.md for recent changes."
          },
          {
            "type": "command",
            "command": "echo \"Session started: $(date)\" >> .claude/memory/sessions.log"
          }
        ]
      }
    ],
    "SessionEnd": [
      {
        "name": "save-session-summary",
        "hooks": [
          {
            "type": "command",
            "command": "echo \"Session ended: $(date)\" >> .claude/memory/sessions.log"
          }
        ]
      }
    ]
  }
}